[gd_scene load_steps=16 format=3 uid="uid://ovaec6nc7m42"]

[ext_resource type="PackedScene" uid="uid://wilclsh64myp" path="res://objects/player.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://cejjqp3bc5p8i" path="res://scripts/main.gd" id="1_tefeu"]
[ext_resource type="PackedScene" uid="uid://ka2ji00su2ft" path="res://objects/person.tscn" id="2_0wfyh"]
[ext_resource type="AudioStream" uid="uid://cqw81aw43e0d7" path="res://assets/sfx/printer.wav" id="2_choun"]
[ext_resource type="PackedScene" uid="uid://db8ym36hjqs6c" path="res://objects/store.tscn" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://bn1if5g85g55r" path="res://objects/tree.tscn" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://c2pay3j4jqds6" path="res://objects/camera.tscn" id="5_tbgi4"]
[ext_resource type="Texture2D" uid="uid://dyj8ewbyba7rm" path="res://assets/sprites/snowflake.png" id="7_o6xl0"]
[ext_resource type="AudioStream" uid="uid://bwyabkpmix67f" path="res://assets/sfx/SoundTrackMainLoop.wav" id="8_tipki"]
[ext_resource type="PackedScene" uid="uid://durj14btm6cw2" path="res://scenes/photos_hud.tscn" id="9_85g3d"]

[sub_resource type="NavigationMesh" id="NavigationMesh_tefeu"]
vertices = PackedVector3Array(-24.5, 1, -24.5, -24.5, 1, 24.5, 24.5, 1, 24.5, 24.5, 1, -24.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o6xl0"]
transparency = 1
albedo_texture = ExtResource("7_o6xl0")
texture_filter = 0
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="QuadMesh" id="QuadMesh_tipki"]
material = SubResource("StandardMaterial3D_o6xl0")
size = Vector2(0.2, 0.2)

[sub_resource type="BoxMesh" id="BoxMesh_tefeu"]
size = Vector3(100, 1, 70.71)

[sub_resource type="BoxShape3D" id="BoxShape3D_choun"]
size = Vector3(1, 4.0976563, 64.09534)

[node name="Main" type="Node3D"]
script = ExtResource("1_tefeu")

[node name="PrinterPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_choun")
volume_db = 10.0

[node name="Camera" parent="." instance=ExtResource("5_tbgi4")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.25881907, 0.9659258, 0, -0.9659258, 0.25881907, 0, 9.349139, 0)
light_energy = 0.547
light_cull_mask = 4293918721

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.6872008, 0)
navigation_mesh = SubResource("NavigationMesh_tefeu")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
size = Vector3(50, 1, 50)

[node name="People" type="Node3D" parent="."]

[node name="Person" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.693066, -0.07997465, -16.78115)

[node name="Person3" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.4466906, -0.07997465, -10.702564)

[node name="Person4" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.065934, -0.07997465, 17.689459)

[node name="Person5" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.759838, -0.07997465, 3.4642553)

[node name="Person6" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.7865105, -0.07997465, 2.0355892)

[node name="Person7" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.880493, -0.07997465, 9.260113)

[node name="Person8" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.228724, -0.07997465, 5.4927273)

[node name="Person9" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.721439, -0.07997465, -3.5551338)

[node name="Person10" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.230556, -0.07997465, 20.972557)

[node name="Person11" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4934864, -0.07997465, 20.777134)

[node name="Person14" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4934864, -0.07997465, 20.777134)

[node name="Person12" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.455832, -0.07997465, 21.622694)

[node name="Person13" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.202977, -0.07997465, 9.749156)

[node name="Person15" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.202977, -0.07997465, 9.749156)

[node name="Person2" parent="People" instance=ExtResource("2_0wfyh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.806224, -0.07997465, -14.288605)

[node name="Player" parent="." instance=ExtResource("1_o5qli")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6795332, 0.554638, 11.101234)

[node name="Trees" type="Node3D" parent="."]

[node name="Tree2" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.438282, 1.625006, 13.8815565)

[node name="Tree15" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.9384766, 1.625006, -4.9425097)

[node name="Tree16" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.2696896, 1.625006, 13.888295)

[node name="Tree17" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.286034, 1.625006, 3.511119)

[node name="Tree11" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4793854, 10.159704, 38.931747)

[node name="Tree7" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.189125, 6.1212263, 31.524715)

[node name="Tree8" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32.135094, 6.1212263, 18.519218)

[node name="Tree9" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.905159, 8.34137, -35.356335)

[node name="Tree12" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.960808, 1.5031109, -8.94492)

[node name="Tree13" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.54098, 4.797586, -27.88918)

[node name="Tree14" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.95227, 13.49169, 3.1096268)

[node name="Tree10" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.391748, 21.062086, -58.130436)

[node name="Tree3" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22.613998, 1.5891261, 22.456896)

[node name="Tree4" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.079597, 1.6108708, -2.206089)

[node name="Tree5" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.831331, 1.5673804, -21.52565)

[node name="Tree6" parent="Trees" instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.6154099, 1.6130638, -22.05763)

[node name="CPUParticles3D" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.3672295, 20.326843, 9.536743e-07)
amount = 500
lifetime = 10.0
preprocess = 10.0
mesh = SubResource("QuadMesh_tipki")
emission_shape = 3
emission_box_extents = Vector3(50, 1, 50)
direction = Vector3(0, 0, 0)
gravity = Vector3(0, -1, 0)
angular_velocity_min = -50.0
angular_velocity_max = 50.0
radial_accel_min = -0.5
radial_accel_max = -0.5
tangential_accel_min = -0.5
tangential_accel_max = -0.5

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_tipki")
volume_db = -15.0
autoplay = true

[node name="PhotosHUD" parent="." instance=ExtResource("9_85g3d")]
visible = false
z_index = 1

[node name="Walls" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.8696156, -0.49372938, 0, 0.49372938, 0.8696156, -2.4561539, 11.564413, -46.99035)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls"]
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 0.51225275, 0.85883474, 0, -0.85883474, 0.51225275, 0, 46.42931, 81.776886)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(0.74378073, -0.39037815, 0.5425819, -0.28265294, 0.5518994, 0.78454745, -0.60572076, -0.7368937, 0.30015054, 43.61746, 42.823868, 78.41906)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(-0.68745106, -0.35692507, 0.63246804, -0.35043147, 0.9258255, 0.14158162, -0.6360887, -0.12430662, -0.76153743, 46.15881, 2.9216194, 8.433998)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(-0.6425321, 0.38764238, -0.6609735, 0.38639712, 0.9088076, 0.15737393, 0.6617023, -0.15428048, -0.7337219, -37.56266, 1.6153841, 2.7168045)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D8" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(0.71211797, 0.34465972, -0.6116353, 0.35469764, 0.5752114, 0.73710394, 0.6058694, -0.74185026, 0.28736827, -44.711567, 43.08741, 75.65104)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(-4.371139e-08, -0.4939419, 0.8694949, -0.49372944, 0.75612646, 0.42953962, -0.86961573, -0.4292952, -0.24387369, 49.828526, 22.009626, 38.766003)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Walls"]
transform = Transform3D(-4.3711395e-08, 0.49394187, -0.8694949, 0.49372944, 0.75612646, 0.42953962, 0.86961573, -0.4292952, -0.24387369, -44.79812, 22.009626, 38.766003)
mesh = SubResource("BoxMesh_tefeu")
skeleton = NodePath("../..")

[node name="Stores" type="Node3D" parent="."]

[node name="Store" parent="Stores" instance=ExtResource("3_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.61341, 0.06974077, -16.560293)

[node name="Store3" parent="Stores" instance=ExtResource("3_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.727649, 0.06974077, 2.301485)

[node name="Store4" parent="Stores" instance=ExtResource("3_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.46123028, 0.06974077, -4.000497)

[node name="Store5" parent="Stores" instance=ExtResource("3_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.46123028, 0.06974077, -4.000497)

[node name="Store6" parent="Stores" instance=ExtResource("3_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.919225, 0.06974077, 19.719528)

[node name="Store2" parent="Stores" instance=ExtResource("3_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.068752, 0.091507435, 6.3805304)

[node name="Node3D" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24.6924, 1.5488281, 2.3296509)
shape = SubResource("BoxShape3D_choun")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Node3D"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0.16471863, 1.54883, 23.807468)
shape = SubResource("BoxShape3D_choun")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Node3D"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 23.755821, 1.54883, -0.09093857)
shape = SubResource("BoxShape3D_choun")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Node3D"]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, 0.7004242, 1.54883, -23.958336)
shape = SubResource("BoxShape3D_choun")
